// database.js
const sqlite3 = require('sqlite3').verbose();

// Crea (o abre) el archivo de la base de datos
const db = new sqlite3.Database('./piamonte.db', (err) => {
  if (err) {
    return console.error(err.message);
  }
  console.log('Conectado a la base de datos SQLite "piamonte.db".');

  // Función para añadir una columna si no existe. La definimos aquí
  // para que esté disponible para las llamadas posteriores.
  function addColumnIfNotExists(tableName, columnName, columnType) {
      db.all(`PRAGMA table_info(${tableName})`, (err, columns) => {
          if (err) {
              return console.error(`Error al obtener info de la tabla ${tableName}`, err.message);
          }
          const columnExists = columns.some(col => col.name === columnName);
          if (!columnExists) {
              db.run(`ALTER TABLE ${tableName} ADD COLUMN ${columnName} ${columnType}`, (alterErr) => {
                  if (alterErr) {
                      console.error(`Error al añadir la columna ${columnName} a ${tableName}`, alterErr.message);
                  } else {
                      console.log(`Columna '${columnName}' añadida a la tabla '${tableName}'.`);
                  }
              });
          }
      });
  }

  // db.serialize asegura que los comandos se ejecuten uno tras otro en orden.
  db.serialize(() => {
    // --- CREACIÓN DE TABLAS ---
    db.run(`CREATE TABLE IF NOT EXISTS pizzas (id INTEGER PRIMARY KEY AUTOINCREMENT, nombre TEXT NOT NULL UNIQUE, ingredientes TEXT, precio_xl INTEGER, precio_mediana INTEGER, precio_chica INTEGER)`, (err) => { if (err) return console.error("Error al crear tabla pizzas", err.message); });
    db.run(`CREATE TABLE IF NOT EXISTS agregados (id INTEGER PRIMARY KEY AUTOINCREMENT, nombre TEXT NOT NULL UNIQUE, precio_xl INTEGER, precio_mediana INTEGER, precio_individual INTEGER)`, (err) => { if (err) return console.error("Error al crear tabla agregados", err.message); });
    db.run(`CREATE TABLE IF NOT EXISTS otros_productos (id INTEGER PRIMARY KEY AUTOINCREMENT, nombre TEXT NOT NULL UNIQUE, categoria TEXT, precio INTEGER)`, (err) => { if (err) return console.error("Error al crear tabla otros_productos", err.message); });
    db.run(`CREATE TABLE IF NOT EXISTS churrascos (id INTEGER PRIMARY KEY AUTOINCREMENT, nombre TEXT NOT NULL UNIQUE, ingredientes TEXT, precio INTEGER)`, (err) => { if (err) return console.error("Error al crear tabla churrascos", err.message); });
    db.run(`CREATE TABLE IF NOT EXISTS pedidos (id INTEGER PRIMARY KEY AUTOINCREMENT, cliente_nombre TEXT, cliente_telefono TEXT, total INTEGER NOT NULL, items_json TEXT, fecha TEXT NOT NULL, estado TEXT DEFAULT 'En Preparación', tipo_entrega TEXT, hora_entrega TEXT, forma_pago TEXT, estado_pago TEXT DEFAULT 'Por Pagar')`, (err) => { if (err) return console.error("Error al crear tabla pedidos", err.message); });

    db.run(`CREATE TABLE IF NOT EXISTS inventario (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        nombre TEXT NOT NULL UNIQUE,
        cantidad TEXT NOT NULL DEFAULT '0',
        categoria TEXT
      )`, (err) => {
        if (err) return console.error("Error al crear tabla inventario", err.message);
        console.log("Tabla 'inventario' creada o ya existente.");
        // Ahora sí podemos llamar a la función, ya que está definida
        addColumnIfNotExists('inventario', 'comprar', 'INTEGER NOT NULL DEFAULT 0');
      });

    // --- INSERCIÓN DE DATOS ---
    const pizzas = [ { nombre: 'Americana', ingredientes: 'S. de tomate, queso, orégano, carne molida, tomate y aceitunas.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Calzone', ingredientes: 'Rellena con queso, jamón, champiñones, bañada con s. de tomate y orégano.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Carnívora', ingredientes: 'S. de tomate, queso, orégano, peperoni, pollo, tocino, churrasco y tomate.', precio_xl: 14900, precio_mediana: 11900, precio_chica: 5500 }, { nombre: 'Catalana', ingredientes: 'Orégano, queso, crema, pollo, palmito y piña.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Chillaneja', ingredientes: 'S. de tomate, queso, orégano, pollo, longaniza, morrón y tomate.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Española', ingredientes: 'S. de tomate, queso, orégano, jamón y choricillo.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Especial Piamonte', ingredientes: 'S. de tomate, queso, orégano, pollo, choclo, morrón, tocino y aceitunas.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Fontana', ingredientes: 'S. de tomate, queso, orégano, lomito, champiñones y morrón.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Francesa', ingredientes: 'Queso, orégano, crema, pollo y champiñones.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Fugasa', ingredientes: 'Aceite de oliva, queso, orégano, cebolla frita y aceitunas.', precio_xl: 13500, precio_mediana: 10500, precio_chica: 4800 }, { nombre: 'Funghi', ingredientes: 'S. de tomate, queso, orégano, champiñones.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Funghi Extra', ingredientes: 'S. de tomate, queso, orégano, champiñones, tomate y choclo.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Hawaiana', ingredientes: 'S. de tomate, queso, orégano, jamón y piña.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Langostino', ingredientes: 'S. de tomate, queso, orégano y colitas de camarón.', precio_xl: 16500, precio_mediana: 12500, precio_chica: 5950 }, { nombre: 'Lomito', ingredientes: 'S. de tomate, queso, orégano, lomito, cebolla frita y tomate.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Mexicana', ingredientes: 'S. de tomate, queso, orégano, carne molida, choclo, poroto verde, tomate, morrón y ají verde.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Milano', ingredientes: 'S. de tomate, queso, orégano, jamón, morrón, carne molida y choricillo.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Mixta', ingredientes: 'S. de tomate, queso, orégano, jamón y champiñones.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Nacional Extra', ingredientes: 'S. de tomate, queso, orégano, pollo, champiñones, morrón y aceitunas.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Nazionale', ingredientes: 'S. de tomate, queso, orégano, pollo, aceitunas y tomate.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Nápoles', ingredientes: 'S. de tomate, queso, orégano, salame, peperoni y tomate.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Napolitana', ingredientes: 'S. de tomate, queso, orégano, jamón y tomate.', precio_xl: 13500, precio_mediana: 10500, precio_chica: 4800 }, { nombre: 'Nostra Marina', ingredientes: 'S. de tomate, queso, orégano, choritos, machas, camarones y ciboulette.', precio_xl: 16500, precio_mediana: 12500, precio_chica: 5950 }, { nombre: 'Peperoni', ingredientes: 'S. de tomate, queso, orégano, peperoni.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Peperoni Extra', ingredientes: 'S. de tomate, queso, orégano, peperoni, tomate y aceituna.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Piamonte', ingredientes: 'S. de tomate, queso, orégano, salame, jamón, champiñones, morrón, espárragos y aceitunas.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Pollo Choclo', ingredientes: 'S. de tomate, queso, orégano, pollo, choclo.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Primavera', ingredientes: 'S. de tomate, queso, orégano, poroto verde, choclo y tomate.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Prosciutto', ingredientes: 'S. de tomate, queso, orégano, jamón.', precio_xl: 13500, precio_mediana: 10500, precio_chica: 4800 }, { nombre: 'Romana', ingredientes: 'S. de tomate, queso, orégano, churrasco, champiñones, morrón y pimienta blanca.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Salame', ingredientes: 'S. de tomate, queso, orégano, salame.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Siciliana', ingredientes: 'S. de tomate, queso, orégano, carne molida, champiñones y tocino.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Speciale', ingredientes: 'S. de tomate, queso, orégano, tocino, tomate y ajo.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Torino', ingredientes: 'S. de tomate, queso, orégano, churrasco, cebolla frita y morrón.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Toscana', ingredientes: 'Queso, orégano, crema, nueces, pollo, tocino y tomate.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Trasnochada', ingredientes: 'S. de tomate, queso, orégano, carne molida, cebolla, morrón y tomate.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Tropicale', ingredientes: 'S. de tomate, queso, orégano, jamón, piña y palmitos.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Vegetariana', ingredientes: 'S. de tomate, queso, orégano, poroto verde, choclo y espárragos.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Vegetariana Extra', ingredientes: 'S. de tomate, queso, orégano, palmito, fondo de alcachofas, tomate y alcaparras.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Vegetariana suprema', ingredientes: 'S. de tomate, queso, orégano, champiñones, fondo de alcachofas y tomate.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Verdi', ingredientes: 'S. de tomate, queso, orégano, churrasco, poroto verde, tomate y ají.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Verona', ingredientes: 'S. de tomate, queso, orégano, carne molida, pollo, salame, morrón y cebolla frita.', precio_xl: 14500, precio_mediana: 11500, precio_chica: 4950 }, { nombre: 'Vieneto', ingredientes: 'S. de tomate, queso, orégano, pollo, camarón y tomate.', precio_xl: 16500, precio_mediana: 12500, precio_chica: 5950 } ];
    const stmtPizzas = db.prepare("INSERT OR IGNORE INTO pizzas (nombre, ingredientes, precio_xl, precio_mediana, precio_chica) VALUES (?, ?, ?, ?, ?)");
    for (const pizza of pizzas) { stmtPizzas.run(pizza.nombre, pizza.ingredientes, pizza.precio_xl, pizza.precio_mediana, pizza.precio_chica); }
    stmtPizzas.finalize();

    const agregados = [ { nombre: 'aceitunas', precio_xl: 1200, precio_mediana: 800, precio_individual: 500 }, { nombre: 'camarones', precio_xl: 4500, precio_mediana: 3500, precio_individual: 2500 }, { nombre: 'carne molida', precio_xl: 2800, precio_mediana: 1700, precio_individual: 800 }, { nombre: 'cebolla', precio_xl: 1200, precio_mediana: 800, precio_individual: 500 }, { nombre: 'champiñones', precio_xl: 2800, precio_mediana: 1700, precio_individual: 800 }, { nombre: 'choclo', precio_xl: 2200, precio_mediana: 1500, precio_individual: 600 }, { nombre: 'choricillo', precio_xl: 2200, precio_mediana: 1500, precio_individual: 600 }, { nombre: 'choritos', precio_xl: 2200, precio_mediana: 1500, precio_individual: 600 }, { nombre: 'churrasco', precio_xl: 2800, precio_mediana: 1700, precio_individual: 800 }, { nombre: 'crema', precio_xl: 500, precio_mediana: 500, precio_individual: 200 }, { nombre: 'doble queso', precio_xl: 4500, precio_mediana: 3500, precio_individual: 2500 }, { nombre: 'espárragos', precio_xl: 2800, precio_mediana: 1700, precio_individual: 800 }, { nombre: 'jamón', precio_xl: 2800, precio_mediana: 1700, precio_individual: 800 }, { nombre: 'lomito', precio_xl: 2800, precio_mediana: 1700, precio_individual: 800 }, { nombre: 'machas', precio_xl: 4500, precio_mediana: 3500, precio_individual: 2500 }, { nombre: 'morrón', precio_xl: 1200, precio_mediana: 800, precio_individual: 500 }, { nombre: 'palmitos', precio_xl: 2200, precio_mediana: 1500, precio_individual: 600 }, { nombre: 'peperoni', precio_xl: 2800, precio_mediana: 1700, precio_individual: 800 }, { nombre: 'piña', precio_xl: 2200, precio_mediana: 1500, precio_individual: 600 }, { nombre: 'pollo', precio_xl: 2800, precio_mediana: 1700, precio_individual: 800 }, { nombre: 'poroto verde', precio_xl: 2200, precio_mediana: 1500, precio_individual: 600 }, { nombre: 'salame', precio_xl: 2800, precio_mediana: 1700, precio_individual: 800 }, { nombre: 'tocino', precio_xl: 2800, precio_mediana: 1700, precio_individual: 800 }, { nombre: 'tomate', precio_xl: 1200, precio_mediana: 800, precio_individual: 500 } ];
    const stmtAgregados = db.prepare("INSERT OR IGNORE INTO agregados (nombre, precio_xl, precio_mediana, precio_individual) VALUES (?, ?, ?, ?)");
    for (const agregado of agregados) { stmtAgregados.run(agregado.nombre, agregado.precio_xl, agregado.precio_mediana, agregado.precio_individual); }
    stmtAgregados.finalize();

    const otros = [ { nombre: 'Lasaña Boloñesa', categoria: 'Pastas', precio: 5800 }, { nombre: 'Capelleti (Rellenos con carne)', categoria: 'Pastas', precio: 6800 }, { nombre: 'Fetuccini', categoria: 'Pastas', precio: 5800 }, { nombre: 'Ñoquis Boloñesa', categoria: 'Pastas', precio: 5800 }, { nombre: 'Ñoquis Pesto', categoria: 'Pastas', precio: 5800 }, { nombre: 'Ñoquis Funghi', categoria: 'Pastas', precio: 5800 }, { nombre: 'Ñoquis Alfredo', categoria: 'Pastas', precio: 5800 }, { nombre: '6 Empanaditas de queso coctel', categoria: 'Picar', precio: 2400 }, { nombre: '6 Nuggets', categoria: 'Picar', precio: 2400 }, { nombre: 'Bebida 1 ½ Its.', categoria: 'Bebestibles', precio: 2700 }, { nombre: 'Nectar 1 ½ Its.', categoria: 'Bebestibles', precio: 2700 }, { nombre: 'Nectar individual.', categoria: 'Bebestibles', precio: 1500 }, { nombre: 'Bebida lata (350cc).', categoria: 'Bebestibles', precio: 1500 }, { nombre: 'Agua mineral (350cc).', categoria: 'Bebestibles', precio: 1500 }, { nombre: 'Café', categoria: 'Bebestibles', precio: 1500 }, { nombre: 'Té', categoria: 'Bebestibles', precio: 1500 }, { nombre: 'Cerveza Kunstmann', categoria: 'Cervezas', precio: 2200 }, { nombre: 'Cerveza Royal', categoria: 'Cervezas', precio: 1700 }, { nombre: 'Cerveza Heineken', categoria: 'Cervezas', precio: 1700 }, { nombre: 'Cerveza austral', categoria: 'Cervezas', precio: 2200}, { nombre: 'Vino Mision varietal', categoria: 'Vinos', precio: 8900 }, { nombre: 'Vino Mision reserva', categoria: 'Vinos', precio: 11900 }, { nombre: 'Vino Casillero reserva', categoria: 'Vinos', precio: 11900 }, { nombre: 'Vino 120 de santa rita (700 ml)', categoria: 'Vinos', precio: 6900 }, { nombre: 'Vino carmen (187.5 ml)', categoria: 'Vinos', precio: 3500 }, { nombre: 'Tallarines boloñesa + ensalada + jugo sin azucar', categoria: 'Menu junaeb', precio: 4500 }, { nombre: 'pizza mini personal americana + jugo sin azucar', categoria: 'Menu junaeb', precio: 2350 }, { nombre: 'envase para llevar', categoria: "extra", precio: 500} ];
    const stmtOtros = db.prepare("INSERT OR IGNORE INTO otros_productos (nombre, categoria, precio) VALUES (?, ?, ?)");
    for (const item of otros) { stmtOtros.run(item.nombre, item.categoria, item.precio); }
    stmtOtros.finalize();

    const churrascos = [ { nombre: 'Barros luco', ingredientes: 'C. vacuno, queso.', precio: 5500 }, { nombre: 'Italiano', ingredientes: 'C. vacuno, palta, tomate, mayo.', precio: 5500 }, { nombre: 'Chacarero', ingredientes: 'C. vacuno, porotos verdes, tomate, ají, mayo.', precio: 5500 }, { nombre: 'Piamontese', ingredientes: 'Pollo, c. vacuno, champiñones, mayo.', precio: 5800 }, { nombre: 'Media noche', ingredientes: 'Pollo, peperoni, morrón, cebolla frita, mayo.', precio: 5800 }, ];
    const stmtChurrascos = db.prepare("INSERT OR IGNORE INTO churrascos (nombre, ingredientes, precio) VALUES (?, ?, ?)");
    for (const item of churrascos) { stmtChurrascos.run(item.nombre, item.ingredientes, item.precio); }
    stmtChurrascos.finalize();
    
    const inventarioInicial = [ { nombre: 'Aceitunas', cantidad: '4', categoria: 'Pizzas' }, { nombre: 'Aji', cantidad: '7', categoria: 'Pizzas' }, { nombre: 'Ajo', cantidad: '1', categoria: 'Pizzas' }, { nombre: 'Alcaparras', cantidad: '2', categoria: 'Pizzas' }, { nombre: 'Camarones', cantidad: '3', categoria: 'Pizzas' }, { nombre: 'Choclo', cantidad: '1', categoria: 'Pizzas' }, { nombre: 'Carne churrasco', cantidad: 'queda', categoria: 'Pizzas' }, { nombre: 'Choricillo', cantidad: '0', categoria: 'Pizzas' }, { nombre: 'Carne molida pote', cantidad: '0', categoria: 'Pizzas' }, { nombre: 'Champiñones', cantidad: '4 tarro', categoria: 'Pizzas' }, { nombre: 'Choritos', cantidad: '2', categoria: 'Pizzas' }, { nombre: 'Machas', cantidad: 'medio bajo', categoria: 'Pizzas' }, { nombre: 'Empanadas', cantidad: '0', categoria: 'Pizzas' }, { nombre: 'Esparragos', cantidad: '4 bolsas llenas', categoria: 'Pizzas' }, { nombre: 'Fondo alcachofa', cantidad: '0', categoria: 'Pizzas' }, { nombre: 'Jamon', cantidad: '1', categoria: 'Pizzas' }, { nombre: 'Lomito', cantidad: 'bastante', categoria: 'Pizzas' }, { nombre: 'Longaniza', cantidad: 'queda', categoria: 'Pizzas' }, { nombre: 'Masa', cantidad: '3,3', categoria: 'Pizzas' }, { nombre: 'Morron', cantidad: '2', categoria: 'Pizzas' }, { nombre: 'Palmito', cantidad: '5', categoria: 'Pizzas' }, { nombre: 'Pepperoni', cantidad: '1 bolsa', categoria: 'Pizzas' }, { nombre: 'Piña', cantidad: '0', categoria: 'Pizzas' }, { nombre: 'Poroto verde', cantidad: '1 bolsa llena', categoria: 'Pizzas' }, { nombre: 'Pollo potes', cantidad: '9', categoria: 'Pizzas' }, { nombre: 'Queso', cantidad: 'harto', categoria: 'Pizzas' }, { nombre: 'Salame', cantidad: '1 bolsa', categoria: 'Pizzas' }, { nombre: 'S. Tomate bolsas', cantidad: '5', categoria: 'Pizzas' }, { nombre: 'Tocino', cantidad: '1', categoria: 'Pizzas' }, { nombre: 'Tomate', cantidad: 'harto', categoria: 'Pizzas' }, { nombre: 'Bolsa orégano', cantidad: '1/2', categoria: 'Pizzas' }, { nombre: 'Champi churrasco', cantidad: '1', categoria: 'Churrascos' }, { nombre: 'Huevo para mayo bolsa', cantidad: '1', categoria: 'Churrascos' }, { nombre: 'Palta', cantidad: '10', categoria: 'Churrascos' }, { nombre: 'Pan churrasco', cantidad: '9', categoria: 'Churrascos' }, { nombre: 'Pollo porcionado', cantidad: 'caleta', categoria: 'Churrascos' }, { nombre: 'Queso churrasco', cantidad: '9 porciones', categoria: 'Churrascos' }, { nombre: 'Limon', cantidad: 'harto', categoria: 'Churrascos' }, { nombre: 'Capeletti', cantidad: '4', categoria: 'Pastas' }, { nombre: 'Crema', cantidad: '1', categoria: 'Pastas' }, { nombre: 'Lasaña', cantidad: '16', categoria: 'Pastas' }, { nombre: 'Noquis', cantidad: 'medio', categoria: 'Pastas' }, { nombre: 'Pasta', cantidad: '8', categoria: 'Pastas' }, { nombre: 'Pesto', cantidad: 'queda', categoria: 'Pastas' }, { nombre: 'B. Grandes pizza', cantidad: 'hartas', categoria: 'Envases' }, { nombre: 'B. Chicas lasaña', cantidad: 'hartas', categoria: 'Envases' }, { nombre: 'Bolso chico llevar', cantidad: 'quedan', categoria: 'Envases' }, { nombre: 'Bolso grande llevar', cantidad: 'quedan', categoria: 'Envases' }, { nombre: 'Pote chico para llevar plástico', cantidad: 'poco', categoria: 'Envases' }, { nombre: 'Pote lasañas', cantidad: 'hartos', categoria: 'Envases' }, { nombre: 'Aceite', cantidad: '2', categoria: 'Despensa' }, { nombre: 'Arroz', cantidad: '1 3/4', categoria: 'Despensa' }, { nombre: 'Azucar', cantidad: '2', categoria: 'Despensa' }, { nombre: 'Caldo maggi', cantidad: '0', categoria: 'Despensa' }, { nombre: 'Fideos', cantidad: '5', categoria: 'Despensa' }, { nombre: 'Pimienta', cantidad: '1', categoria: 'Despensa' }, { nombre: 'Sal', cantidad: '10', categoria: 'Despensa' }, { nombre: 'Salsa carne', cantidad: '1', categoria: 'Despensa' }, { nombre: 'Alusa', cantidad: 'queda', categoria: 'Varios' }, { nombre: 'Papel aluminio', cantidad: '1 y medio', categoria: 'Varios' }, { nombre: 'Papel nova', cantidad: '0', categoria: 'Varios' }, { nombre: 'Pegote', cantidad: '0', categoria: 'Varios' }, { nombre: 'Plumon', cantidad: 'le queda', categoria: 'Varios' }, { nombre: 'Birutilla', cantidad: '1', categoria: 'Aseo' }, { nombre: 'Cloro', cantidad: '2', categoria: 'Aseo' }, { nombre: 'Cif', cantidad: 'mitad', categoria: 'Aseo' }, { nombre: 'Esponja', cantidad: '4', categoria: 'Aseo' }, { nombre: 'Guantes', cantidad: 'hay', categoria: 'Aseo' }, { nombre: 'Jabón', cantidad: '2', categoria: 'Aseo' }, { nombre: 'Limpiapisos', cantidad: '3/4', categoria: 'Aseo' }, { nombre: 'Liquido ventana', cantidad: 'lleno', categoria: 'Aseo' }, { nombre: 'Paños amarillos', cantidad: 'aguantan', categoria: 'Aseo' }, { nombre: 'Quix', cantidad: 'poco menos mitad', categoria: 'Aseo' }, { nombre: 'Bolsa chicas basura', cantidad: 'varias', categoria: 'Aseo' }, { nombre: 'Bolsa grande basura', cantidad: 'varias', categoria: 'Aseo' }, ];
    const stmtInventario = db.prepare("INSERT OR IGNORE INTO inventario (nombre, cantidad, categoria) VALUES (?, ?, ?)");
    for (const item of inventarioInicial) { stmtInventario.run(item.nombre, item.cantidad, item.categoria); }
    stmtInventario.finalize();

    console.log("Datos insertados en las tablas.");
  });
});